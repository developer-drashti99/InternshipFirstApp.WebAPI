<div class="card w-full bg-base-100 mx-auto flex flex-col shadow-lg p-6 rounded-lg">
  <div class="card-title justify-center text-3xl text-primary">Registration</div>
  <div class="card-body w-full">
    <ul class="steps steps-vertical lg:steps-horizontal">
      <li class="step step-primary">Credentials</li>
      <li class="step" [class.step-primary]="currentStep() === 2">Profile</li>
    </ul>
    @if (currentStep() === 1) {
      <form [formGroup]="credentialsForm" class="flex flex-col gap-4 w-full steps">
        <!-- reusable component for control with possible all the error -->
        <app-text-input class="mt-2" label="Username" formControlName="displayName" />
        <app-text-input label="Email" formControlName="email" />
        <app-text-input label="Password" formControlName="password" type="password" />
        <app-text-input
          label="Confirm Password"
          formControlName="confirmPassword"
          type="password"
        />

        <div class="flex items-center justify-end gap-3">
          <button class="btn" (click)="cancel()">Cancel</button>
          <button
            type="button"
            class="btn btn-primary"
            [disabled]="!credentialsForm.valid"
            (click)="nextStep()"
          >
            Next
          </button>
        </div>
      </form>
    }
    @if (currentStep() === 2) {
      <form
        [formGroup]="profileForm"
        class="flex flex-col gap-4 w-full steps"
        (ngSubmit)="register()"
      >
        <!-- reusable component for control with possible all the error -->
        <div class="flex items-center gap-4">
          <div class="font-semibold">Gender:</div>
          <label class="flex gap-3 items-center">
            <span>Male</span>
            <input type="radio" formControlName="gender" 
            value="Male" class="radio radio-primary">
          </label>
          <label class="flex gap-3 items-center">
            <span>Female</span>
            <input type="radio" formControlName="gender" 
            value="Female" class="radio radio-primary">
          </label>
        </div>
        <app-text-input label="Date Of Birth" [maxDate]="getMaxDate()"
        formControlName="dateOfBirth" type="date" />
        <app-text-input label="City" formControlName="city" />
        <app-text-input label="Country" formControlName="country" />

        <div class="flex items-center justify-end gap-3">
          <button class="btn" (click)="prevStep()">Back</button>
          <button
            type="button"
            class="btn btn-primary"
            [disabled]="!profileForm.valid"
            (click)="register()"
          >
            Register
          </button>
        </div>
      </form>
    }
  </div>
  <div class="flex flex-col w-full mockup-code text-lg items-start px-3">
    <div>Form Value {{ credentialsForm.value | json }}</div>
    <div>Form status {{ credentialsForm.status | json }}</div>
    <br />
    <div>Form Value {{ profileForm.value | json }}</div>
    <div>Form status {{ profileForm.status | json }}</div>
  </div>
</div>
