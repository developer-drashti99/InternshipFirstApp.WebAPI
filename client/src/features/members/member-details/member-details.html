@if(memberService.member(); as member) {

<div class="max-w-full mx-auto">

  <!-- Main Layout -->
  <div class="flex flex-col lg:flex-row lg:gap-6">

    <!-- ================= LEFT PROFILE CARD ================= -->
    <div class="lg:w-1/4 xl:w-1/4 md:w-1/2">

      <div class="card bg-base-100 border shadow-lg rounded-3xl">

        <!-- Profile Image -->
        <div class="flex justify-center pt-6">
          <img
            [src]="member.imageUrl || 'default_user.jpg'"
            alt="image of member"
            class="w-40 h-40 rounded-full object-cover shadow-md"
          />
        </div>

        <div class="card-body pt-4">

          <!-- Name & Location -->
          <div class="flex flex-col items-center text-center">
            <div class="text-2xl font-semibold text-primary">
              {{member.displayName}}, {{member.dateOfBirth | age}}

              @if(presenceService.onlineUsers().includes(member.id)){
                <span class="status status-success status-lg ml-2 animate-pulse"></span>
              }
            </div>

            <div class="text-sm opacity-70 mt-1">
              {{member.city}}, {{member.country}}
            </div>
          </div>

          <div class="divider my-4"></div>

          <!-- Navigation -->
          <ul class="menu rounded-box w-full text-lg">
            <li>
              <a routerLink="profile"
                 routerLinkActive="text-primary font-semibold">
                Profile
              </a>
            </li>
            <li>
              <a routerLink="photos"
                 routerLinkActive="text-primary font-semibold">
                Photos
              </a>
            </li>
             @if(!isCurrentUser()&& !accountService.currentUser()?.roles?.includes("Admin")) {
            <li>
              <a routerLink="messages"
                 routerLinkActive="text-primary font-semibold">
                Messages
              </a>
            </li>}
          </ul>

        </div>

        <!-- Back Button -->
        <div class="card-actions p-4 pt-0">
          <button class="btn btn-outline w-full"
                  (click)="goBack()">
            <i class="pi pi-arrow-left"></i>
            Go Back
          </button>
        </div>

      </div>

    </div>


    <!-- ================= RIGHT CONTENT CARD ================= -->
    <div class="lg:w-3/4 xl:w-3/4 md:w-1/2 min-h-96">

    <div class="card bg-base-100 border shadow-lg rounded-3xl p-6 h-[80vh] flex flex-col">

        <div class="flex justify-between items-center top-0 z-10 sticky">

          <h3 class="text-3xl font-bold text-primary">
            {{title()}}
          </h3>

          @if(isCurrentUser()) {
            <button
              class="btn btn-primary"
              (click)="memberService.editMode.set(!memberService.editMode())">
              {{memberService.editMode() ? 'Cancel' : 'Edit'}}
            </button>
          }
        </div>

        <!-- Dynamic Routed Content -->
        <div class="flex-1 min-h-0">

          <router-outlet></router-outlet>
        </div>

      </div>

    </div>

  </div>

</div>

}