<div class="p-6">
  <h2 class="text-center text-4xl font-bold mb-8">Members</h2>
  @if (paginatedMembers(); as paginatedResult) {
    <div class="flex flex-col w-full">
      <div class="flex justify-between items-center">
        <div class="flex gap-3">
          <button (click)="openModal()" class="btn btn-primary">Select Filters</button>
          <button (click)="resetFilters()" class="btn btn-neutral">Reset Filters</button>
        </div>
        @if (paginatedResult.metadata; as metadata) {
          <app-paginator
            [pageNumber]="metadata.currentPage"
            [totalCount]="metadata.totalCount"
            [totalPages]="metadata.totalPages"
            [pageSize]="metadata.pageSize"
            (pageChange)="onPageChange($event)"
          />
        }
      </div>
      @if (paginatedResult.items; as members) {
        <div class="grid grid-cols-5 gap-6">
          @for (member of members; track member.id) {
            <app-member-card [member]="member"></app-member-card>
          }
        </div>
      }
      <!-- } @else {
      <p class="text-center text-gray-500 text-lg">No users</p>
    } -->
    </div>
  }
  <app-filter-modal
    #filterModal
    [hidden]="!paginatedMembers()"
    (closeModal)="onClose()"
    (submitData)="onFilterChange($event)"
  />
</div>
